{% extends "base/_base.html" %}
{% block title %}Lista de Veículos{% endblock %}
{% block content %}

    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h1>Veículos Cadastrados</h1>
        <a href="{% url 'criarVeiculo' %}">
            <button>Cadastrar Novo Veículo</button>
        </a>
    </div>

    <hr>

    {% if veiculos %}
        <table>
            <thead>
                <tr>
                    <th>Placa</th>
                    <th>Marca</th>
                    <th>Modelo</th>
                    <th>Ano</th>
                    <th>Proprietário</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody>
                {% for veiculo in veiculos %}
                    <tr>
                        <td>{{ veiculo.placa }}</td>
                        <td>{{ veiculo.marca }}</td>
                        <td>{{ veiculo.modelo }}</td>
                        <td>{{ veiculo.ano }}</td>
                        <td>{{ veiculo.cliente.nome }} ({{ veiculo.cliente.cpf }})</td>
                        <td>
                            <a href="{% url 'editarVeiculo' veiculo.pk %}">Editar</a>
                            <a href="{% url 'deletarVeiculo' veiculo.pk %}" onclick="return confirm('Tem certeza que deseja deletar este veículo?');">Deletar</a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p style="text-align: center; font-size: 1.2em; color: #555; margin-top: 50px;">
            Nenhum veículo cadastrado ainda. <a href="{% url 'criarVeiculo' %}" style="color: var(--color-accent); text-decoration: none; font-weight: 700;">Cadastre um novo veículo agora!</a>
        </p>
    {% endif %}

{% endblock %}